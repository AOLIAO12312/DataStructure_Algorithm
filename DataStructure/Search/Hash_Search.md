# 散列表（Hash Table）笔记

## CATALOG

1. [散列表（Hash Table）笔记](#散列表hash-table笔记)
   1. [CATALOG](#catalog)
   2. [1. 基本概念](#1-基本概念)
   3. [2. 解决冲突的方法](#2-解决冲突的方法)
      1. [2.1 链表（拉链法）](#21-链表拉链法)
      2. [2.2 开放定址法](#22-开放定址法)
      3. [2.3 再散列法](#23-再散列法)
   4. [3. 常见散列函数](#3-常见散列函数)
      1. [3.1 除留余数法](#31-除留余数法)
      2. [3.2 直接定址法](#32-直接定址法)
      3. [3.3 数字分析法](#33-数字分析法)
      4. [3.4 平方取中法](#34-平方取中法)
2. [总结](#总结)

## 1. 基本概念

- **散列表**：一种通过散列函数将关键字映射到表中一个位置以便快速查找的数据结构。
- **散列函数**：`Hash(key)`，将关键字`key`映射到表中的一个位置（地址）`Addr`。
- **同义词（冲突）**：不同关键字通过散列函数映射到同一个值。

## 2. 解决冲突的方法

### 2.1 链表（拉链法）

- **原理**：每个哈希表的槽位维护一个链表，所有映射到该槽位的关键字都存入该链表。
- **优点**：处理冲突简单，无聚集现象。
- **缺点**：内存使用较多（链表节点额外开销）。

### 2.2 开放定址法

- **原理**：当发生冲突时，通过某种探测策略找到下一个空闲位置。
  - **线性探测法**：`H = (H(key) + di) % m`，`di = 1, 2, 3, ...`。
    - **缺点**：容易形成聚集，影响查找效率。
  - **平方探测法**：`di = 1^2, -1^2, 2^2, -2^2, ...`。
    - **要求**：表长`m`必须是可以表示为`4j + 3`的质数。
    - **优点**：减少聚集，探测范围更大。
  - **随机序列法**：`di`是随机序列。
    - **特点**：探测位置随机，减少聚集可能。

### 2.3 再散列法

- **原理**：准备多个哈希函数，当发生冲突时，使用另一个哈希函数重新计算位置。
- **优点**：减少冲突，提高查找效率。
- **缺点**：需要多个哈希函数，实现复杂。

## 3. 常见散列函数

### 3.1 除留余数法

- **公式**：`H(key) = key % p`
- **要求**：`p`为小于等于且最接近表长`m`的质数。
- **优点**：实现简单，分布均匀。

### 3.2 直接定址法

- **公式**：`H(key) = key` 或 `H(key) = a * key + b`
- **适用场景**：关键字分布基本连续（如学号）。
- **优点**：简单直接，无需额外计算。

### 3.3 数字分析法

- **原理**：分析关键字中各位的分布情况，选取分布均匀的若干位作为哈希地址。
- **适用场景**：关键字位数较多，且某些位分布均匀。

### 3.4 平方取中法

- **原理**：计算关键字的平方，取中间几位作为哈希地址。
- **示例**：`key = 1310`，则`1310^2 = 1716100`，取中间三位`716`作为哈希地址。
- **优点**：分布均匀，减少冲突。

# 总结

散列表通过散列函数实现快速查找，但冲突不可避免。解决冲突的方法包括链表法、开放定址法和再散列法。选择合适的散列函数和冲突解决方法对于提高散列表的性能至关重要。常见散列函数包括除留余数法、直接定址法、数字分析法和平方取中法。
